<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>
	.container{
		width:1100px;
		height:500px;
		background-color: aliceblue;
        margin: auto;
        
	}
	.aside{
        width:100px;
		height:100%;
		background-color:azure;
        float: left;
        
	}
	.content{
        width:1000px;
		height:100%;
		background-color:bisque;
        float: left;
	}
    .aside button{
        
        margin-left: 30%;
    }
</style>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    //아래쪽 구글맵 스크립트에 의해 구글맵이 로드가 되면 이 함수를 호출하게 됨
    let map;
    function init(){
        let mapProp = {
        center:new google.maps.LatLng(51.508742,-0.120850),
        zoom:5,
        };
        map = new google.maps.Map(document.querySelector(".content"),mapProp);
    }
    
    //맵 등의 어플리캐이션은 새로고침이 발생해서는 안됨 ! 서버로부터 데이터를 비동기(백그라운드에서)로 가져오자.
    function getList(){
		   let xhttp = new XMLHttpRequest();
		   //요청에 대한 서버측의 응답이 돌아오면, 브라우저가 자바스크립트에게 도착했음을 알린다. 이때 자바스크립트는 아래의 익명함수 호출
		   xhttp.onload=function(){
			   //서버에서 전송한 문자열 받기!
			   console.log("서버로부터 받은 문자열은 ",this.responseText);
		   }
		   xhttp.open("Get","/map/list.jsp");//servlet,jsp 둘다 가능하지만 원칙상 servlet 이맞다. (현재는 jsp로 사용 시간상)
		   xhttp.send();//비동기 요청 발생!!
    }
    
    $(()=>{
    	$("button").click(()=>{
    		getList();
    	});
    });
</script>
</head>
<body>
	<div class = "container">
		<div class ="aside">
            <button type="button">Load</button>
        </div>
		<div class ="content"></div>
	
	</div>
</body>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA05drqI-Jt-qCproTtbEEe0Hut5XRe4TY&callback=init"></script>
</html>